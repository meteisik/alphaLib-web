(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{386:function(t,e,r){var content=r(459);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(13).default)("453f6dd4",content,!0,{sourceMap:!1})},458:function(t,e,r){"use strict";var n=r(386);r.n(n).a},459:function(t,e,r){(e=r(12)(!1)).push([t.i,".documentText[data-v-42412aa4]{border-right:5px solid #07031a}.documentFreq[data-v-42412aa4],.documentText[data-v-42412aa4]{float:left;width:50%;box-sizing:border-box}",""]),t.exports=e},486:function(t,e,r){"use strict";r.r(e);r(6),r(4),r(9),r(58);var n=r(18),o={name:"PageAnalyticsDocument",asyncData:function(t){return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,o,d,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.query,n=t.$axios,o={match_all:{}},r.q&&(o={match_phrase:{content:r.q}}),e.next=5,n.post("/api/literature/_search",{sort:["_score"],_source:["meta","content"],query:o,highlight:{type:"unified",order:"score",pre_tags:["<mark>"],post_tags:["</mark>"],fields:{content:{number_of_fragments:5}}}}).then((function(t){return t.data.hits.hits})).catch((function(t){return[]}));case 5:return d=e.sent,e.next=8,n.post("/api/literature/_mtermvectors",{ids:d.map((function(t){return t._id})),parameters:{fields:["content"],term_statistics:!0}}).then((function(t){return t.data})).catch((function(t){return{}}));case 8:return c=e.sent,e.abrupt("return",{docs:d,term_vectors:c.docs});case 10:case"end":return e.stop()}}),e)})))()},data:function(){return{docIds:[],displayIds:[],idInput:"ID here",docIndex:0,displayIndex:0,headers:[{text:"Term",value:"term"},{text:"Frequency",value:"freq"}]}},computed:{findDisplayIndex:function(){var t=this;return function(e){if(0===t.displayIds.length)for(var i=0;i<e.length;i++)t.displayIds.push(e[i]._id);for(var r=0;r<t.displayIds.length;r++)t.displayIds[r]===t.$route.params.id&&(t.displayIndex=r);return t.displayIndex}},findIdIndex:function(){var t=this;return function(e){if(0===t.docIds.length)for(var i=0;i<e.length;i++)t.docIds.push(e[i]._id);for(var r=0;r<t.docIds.length;r++)t.docIds[r]===t.$route.params.id&&(t.docIndex=r);return t.docIndex}},tableData:function(){return function(t){for(var e=t.term_vectors.content.terms,r=[],n=0,o=Object.keys(e);n<o.length;n++){var d=o[n];r.push({term:d,freq:e[d].term_freq})}return r.sort((function(a,b){return a.freq<b.freq}))}}}},d=(r(458),r(37)),c=r(46),f=r.n(c),l=r(482),component=Object(d.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h1",[t._v("document ID: "+t._s(t.$route.params.id))]),t._v(" "),r("p",[t._v("index in term_vectors: "+t._s(t.findIdIndex(t.term_vectors)))]),t._v(" "),r("p",[t._v("index in docs: "+t._s(t.findDisplayIndex(t.docs)))]),t._v(" "),r("div",{staticClass:"documentText"},[t._v("\n    "+t._s(t.docs[t.displayIndex]._source.content)+"\n  ")]),t._v(" "),r("div",{staticClass:"documentFreq"},[r("v-data-table",{attrs:{headers:t.headers,items:t.tableData(t.term_vectors[t.docIndex]),"multi-sort":""}})],1)])}),[],!1,null,"42412aa4",null);e.default=component.exports;f()(component,{VDataTable:l.a})}}]);