(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{389:function(t,e,r){"use strict";r(6),r(56),r(8),r(45),r(50),r(25),r(19),r(20),r(4),r(15);function n(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,l=!0,h=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return l=t.done,t},e:function(t){h=!0,c=t},f:function(){try{l||null==r.return||r.return()}finally{if(h)throw c}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var c={name:"HeatMapWrapperForAnalytics",components:{"heat-map":r(380).a},props:{id:{type:String,default:"heatmap"},divId:{type:String,default:"heatmap-div"},svgId:{type:String,default:"heatmap-svg-element"},chartHeight:{type:Number,default:100},chartWidth:{type:Number,default:100},flat:{type:Boolean,default:!0},outlined:{type:Boolean,default:!0},hover:{type:Boolean,default:!0},rounded:{type:Boolean,default:!0},maxWidth:{type:String,default:"100%"},label:{type:String,default:"This Amazing HeatMap"},dataset:{type:Array,default:function(){return[]}}},asyncData:function(){return{}},data:function(){return{colorRange:["rgb(255,253,234)","#ff5a08"],meta:{show:!1,info:"Hello this is only a help box!"}}},computed:{heatmapData:function(){var t,e=[],r=n(this.dataset);try{for(r.s();!(t=r.n()).done;){var o,c=t.value,l=n(c.response.hits.hits);try{for(l.s();!(o=l.n()).done;){var h=o.value;e.push({x:c.query,y:h._source.path.virtual,value:h.highlight.content.length})}}catch(t){l.e(t)}finally{l.f()}}}catch(t){r.e(t)}finally{r.f()}return e}},methods:{rectClick:function(t){this.$emit("rectClick",t)}}},l=r(37),h=r(46),d=r.n(h),f=r(419),m=r(373),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",{staticClass:"mx-auto",attrs:{outlined:t.outlined,flat:t.flat,hover:t.hover,rounded:t.rounded,"max-width":t.maxWidth}},[r("v-card-title",[t._v("\n    "+t._s(t.label)+"\n  ")]),t._v(" "),r("v-card-text",{attrs:{id:t.divId}},[r("heat-map",{attrs:{"svg-id":t.svgId,width:t.chartWidth,height:t.chartHeight,"color-range":t.colorRange,dataset:t.heatmapData,padding:{top:100,right:2,left:300,bottom:2}},on:{rectClick:t.rectClick}})],1)],1)}),[],!1,null,null,null);e.a=component.exports;d()(component,{VCard:f.a,VCardText:m.c,VCardTitle:m.d})},485:function(t,e,r){"use strict";r.r(e);r(6),r(56),r(8),r(45),r(50),r(25),r(19),r(20),r(4),r(58);var n=r(18);function o(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,h=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return l=t.done,t},e:function(t){h=!0,o=t},f:function(){try{l||null==r.return||r.return()}finally{if(h)throw o}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var l={name:"PageAnalyticsIndex",components:{HeatMapWrapperForAnalytics:r(389).a},layout:"withsearchbar",fetch:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,c,q,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],n=o(t.queries),e.prev=2,n.s();case 4:if((c=n.n()).done){e.next=12;break}return q=c.value,e.next=8,t.$axios.get("/api/literature/_search",{explain:!0,sort:["_score"],_source:["meta","path"],size:1,query:{match:{content:{query:q.query}}},highlight:{type:"unified",order:"score",pre_tags:["<mark>"],post_tags:["</mark>"],fields:{content:{number_of_fragments:1e3}}}}).then((function(t){return t.data})).catch((function(t){return null}));case 8:l=e.sent,r.push({query:q.query,response:l});case 10:e.next=4;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),n.e(e.t0);case 17:return e.prev=17,n.f(),e.finish(17);case 20:t.responses=r;case 21:case"end":return e.stop()}}),e,null,[[2,14,17,20]])})))()},data:function(){return{charts:{heatmap:{id:"heatmap",divId:"heatmap-div",svgId:"heatmap-chart-svg-element",label:"Tiles",width:300,height:100}},responses:[]}},computed:{queries:function(){return this.$store.state.searchQueries},heatmapHeight:function(){return 500}},mounted:function(){this.resize(),window.addEventListener("resize",this.resize)},methods:{resize:function(){var t=document.getElementById(this.charts.heatmap.divId);t&&(this.charts.heatmap.width=t.clientWidth-30,this.charts.heatmap.height=this.heatmapHeight,document.getElementById(this.charts.heatmap.svgId).setAttribute("width",this.charts.heatmap.width),document.getElementById(this.charts.heatmap.svgId).setAttribute("height",this.charts.heatmap.height))}}},h=r(37),d=r(46),f=r.n(d),m=r(172),v=r(364),y=r(449),component=Object(h.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-row",{attrs:{align:"center",justify:"start","no-gutters":""}},[r("v-col",{attrs:{cols:"1","align-self":"center"}},[t._v("\n    Queries...\n    "),r("ul",t._l(t.queries,(function(q,i){return r("li",{key:i},[t._v("\n        "+t._s(q.query)+"\n      ")])})),0),t._v(" "),r("v-btn",{on:{click:function(e){return e.stopPropagation(),t.$fetch(e)}}},[t._v("Refresh")])],1),t._v(" "),r("v-col",{attrs:{cols:"11"}},[r("HeatMapWrapperForAnalytics",{staticClass:"mb-2",attrs:{id:t.charts.heatmap.id,"div-id":t.charts.heatmap.divId,"svg-id":t.charts.heatmap.svgId,hover:!1,label:t.charts.heatmap.label,dataset:t.responses,"chart-width":t.charts.heatmap.width,"chart-height":t.charts.heatmap.height,"max-width":"100%"}})],1)],1)}),[],!1,null,"d938ef5e",null);e.default=component.exports;f()(component,{VBtn:m.a,VCol:v.a,VRow:y.a})}}]);